<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="utf-8" />

    <!-- favicon -->
    <link rel="icon" href="%PUBLIC_URL%/favicon.png" />

    <!-- viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- główny tytuł SEO -->
    <title>Wędlinka Łowkowice</title>

    <!-- meta description -->
    <meta name="description" content="----------" />

    <!-- meta keywords (opcjonalnie) -->
    <meta name="keywords" content="--------" />

    <!-- canonical URL -->
    <link rel="canonical" href="https://twojastrona.pl/" />

    <!-- Open Graph (Facebook, LinkedIn) -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://twojastrona.pl/" />
    <meta property="og:title" content="Wędlinka Łowkowice" />
    <meta property="og:description" content="Informacje, aktualności" />
    <meta property="og:image" content="https://twojastrona.pl/og-image.jpg" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Wędlinka Łowkowice" />
    <meta name="twitter:description" content="Informacje, aktualności" />
    <meta
      name="twitter:image"
      content="https://twojastrona.pl/twitter-image.jpg"
    />

    <!-- JSON-LD: organizacja -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Wędlinka Łowkowice",
        "url": "https://twojastrona.pl",
        "logo": "https://twojastrona.pl/logo.png",
        "contactPoint": {
          "@type": "ContactPoint",
          "contactType": "customer support",
          "email": "kontakt@twojastrona.pl",
          "telephone": "+48 600 123 456"
        },
        "sameAs": [
          "https://www.facebook.com/TwojZHKR",
          "https://www.instagram.com/TwojZHKR"
        ]
      }
    </script>

    <!-- link do mapy strony i manifest -->
    <link
      rel="sitemap"
      type="application/xml"
      title="Sitemap"
      href="/sitemap.xml"
    />
  </head>
  <body>
    <noscript
      >Musisz włączyć JavaScript, aby ta aplikacja działała poprawnie.</noscript
    >
    <div id="root"></div>
    <div id="modal-root"></div>
    <!-- ⬅️ tu lądują portale -->
    <script>
      function ipToInt(ip) {
        return ip.split(".").reduce((a, o) => (a << 8) + +o, 0) >>> 0;
      }
      function inCidr(ip, cidr) {
        const [base, bits] = cidr.split("/");
        const maskBits = +bits;
        const ipI = ipToInt(ip),
          baseI = ipToInt(base);
        const netmask = maskBits === 0 ? 0 : (~0 << (32 - maskBits)) >>> 0;
        return (ipI & netmask) === (baseI & netmask);
      }

      fetch("https://api.ipify.org?format=json")
        .then((r) => r.json())
        .then(({ ip }) => {
          const allowedCidrs = ["83.26.184.0/22"]; // możesz zmienić na inny zakres
          const allowedSingles = ["95.215.232.175"];

          const ok =
            allowedSingles.includes(ip) ||
            allowedCidrs.some((c) => inCidr(ip, c));
          if (!ok) {
            document.body.innerHTML = `
          <div style="text-align:center; padding:100px; font-family:sans-serif;">
            <h1>Strona w budowie</h1>
            <p>Zapraszamy wkrótce.</p>
          </div>`;
          }
        })
        .catch(() => {
          document.body.innerHTML = `
        <div style="text-align:center; padding:100px; font-family:sans-serif;">
          <h1>Strona w budowie</h1>
          <p>Zapraszamy wkrótce.</p>
        </div>`;
        });
    </script>
  </body>
</html>
